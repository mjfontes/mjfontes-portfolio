!function(){"use strict";var e=window.React;const t=()=>`${Date.now().toString(36)}-${Math.random().toString(36).substring(2,8)}`,l={id:t(),fontWeight:{label:"Font Weight",value:""},style:{label:"Style",value:""},woff:{label:"WOFF FILE",file:{id:"",url:"",message:""}},woff2:{label:"WOFF2 FILE",file:{id:"",url:"",message:""}},ttf:{label:"TTF FILE",file:{id:"",url:"",message:""}},otf:{label:"OTF FILE",file:{id:"",url:"",message:""}},eot:{label:"EOT FILE",file:{id:"",url:"",message:""}}};wp.element.render((0,e.createElement)(()=>{var a;const[n,o]=(0,e.useState)(null!==(a=JSON.parse(WCF_ADDONS_ADMIN.data))&&void 0!==a?a:[l]),s=document.getElementById("title").value;(0,e.useEffect)(()=>(document.getElementById("publish").classList.add("published_js"),document.getElementById("publish").addEventListener("click",i),()=>{document.getElementById("publish").removeEventListener("click",i)}),[n]);const i=async e=>{const t=document.getElementById("publish");t.classList.contains("published_js")&&e.preventDefault();const l=t.closest("form");await fetch(WCF_ADDONS_ADMIN.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({action:"wcf_save_custom_fonts",fields:JSON.stringify(n),nonce:WCF_ADDONS_ADMIN.nonce,id:WCF_ADDONS_ADMIN.id})}).then(e=>e.json()).then(e=>{t.classList.remove("published_js"),l.submit()})},r=(e,t,l)=>{let a;e.preventDefault(),void 0===a?(a=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",multiple:!1,button:{text:"Use this font"},library:{}}),a.on("insert",function(){a.state().get("selection").each(function(e,a){e=e.toJSON(),0===a&&(e.filename.split(".")[1]===l?o(n.map(a=>a.id===t?{...a,[l]:{...a[l],file:{id:e.id,url:e.url,message:""}}}:a)):(o(n.map(e=>e.id===t?{...e,[l]:{...e[l],file:{id:"",url:"",message:"File formate not support"}}}:e)),setTimeout(()=>{o(n.map(e=>e.id===t?{...e,[l]:{...e[l],file:{id:"",url:"",message:""}}}:e))},[1e3])))})}),a.open()):a.open()},c=(e,t,l)=>{e.preventDefault(),o(n.map(a=>a.id===t?{...a,[l]:{...a[l],value:e.target.value}}:a))},m=(e,t,l)=>{e.preventDefault(),o(n.map(e=>e.id===t?{...e,[l]:{...e[l],file:{id:"",url:"",message:""}}}:e))},u=[];n.forEach(e=>{e.eot.file.url&&u.push(`url('${e.eot.file.url}') format('embedded-opentype')`),e.woff2.file.url&&u.push(`url('${e.woff2.file.url}') format('woff2')`),e.woff.file.url&&u.push(`url('${e.woff.file.url}') format('woff')`),e.ttf.file.url&&u.push(`url('${e.ttf.file.url}') format('truetype')`),e.otf.file.url&&u.push(`url('${e.otf.file.url}') format('truetype')`)});const d=`@font-face {\n      font-family: ${s};\n      src: ${u.join()};\n    }`;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("style",null,d.split(",").join(";")),(0,e.createElement)("div",{style:{padding:"30px"}},(0,e.createElement)("div",{style:{border:"1px solid #E1E4EA",borderRadius:"6px"}},(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 4fr",alignItems:"center",padding:"12px 30px",marginBottom:"20px",borderBottom:"1px solid #E1E4EA"}},(0,e.createElement)("p",{style:{fontSize:"16px",margin:"0"}},"Font Family"),(0,e.createElement)("p",{style:{fontSize:"16px",margin:"0"}},"Font Weight"),(0,e.createElement)("p",{style:{fontSize:"16px",margin:"0"}},"Text")),n.map(t=>(0,e.createElement)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 4fr",alignItems:"center",padding:"12px 30px"},key:t.id},(0,e.createElement)("p",{style:{fontSize:"16px",margin:"0"}},s),(0,e.createElement)("p",{style:{fontSize:"16px",margin:"0"}},t.fontWeight.value),(0,e.createElement)("p",{style:{fontSize:"26px",margin:"0",fontWeight:t.fontWeight.value,fontStyle:t.style.value,fontFamily:s}},"The quick brown fox jumps over the lazy dog"))))),(0,e.createElement)("div",{className:"wcf-custom-font"},n?.map((t,l)=>(0,e.createElement)("div",{className:"section-group",key:`custom_font-${l}`},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #E1E4EA",paddingBottom:"10px"}},(0,e.createElement)("div",null,(0,e.createElement)("h3",{style:{margin:"0"}},"Font Variant ",l+1)),(0,e.createElement)("div",{style:{cursor:"pointer"},onClick:e=>((e,t)=>{e.preventDefault(),o(n.filter(e=>e.id!==t))})(e,t.id)},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-trash-2"},(0,e.createElement)("path",{d:"M3 6h18"}),(0,e.createElement)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,e.createElement)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,e.createElement)("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),(0,e.createElement)("line",{x1:"14",x2:"14",y1:"11",y2:"17"})))),(0,e.createElement)("div",{className:"font-group",style:{paddingTop:"10px"}},(0,e.createElement)("h3",null,t.fontWeight.label),(0,e.createElement)("select",{value:t.fontWeight.value,onChange:e=>c(e,t.id,"fontWeight")},(0,e.createElement)("option",{value:"100"},"100"),(0,e.createElement)("option",{value:"200"},"200"),(0,e.createElement)("option",{value:"300"},"300"),(0,e.createElement)("option",{value:"400"},"400 Regular"),(0,e.createElement)("option",{value:"500"},"500"),(0,e.createElement)("option",{value:"600"},"600"),(0,e.createElement)("option",{value:"700"},"700"),(0,e.createElement)("option",{value:"800"},"800"),(0,e.createElement)("option",{value:"900"},"900"))),(0,e.createElement)("div",{className:"font-group"},(0,e.createElement)("h3",null,t.style.label),(0,e.createElement)("select",{value:t.style.value,onChange:e=>c(e,t.id,"style")},(0,e.createElement)("option",{value:"normal"},"Normal"),(0,e.createElement)("option",{value:"italic"},"Italic"),(0,e.createElement)("option",{value:"oblique"},"Oblique"))),t.woff&&(0,e.createElement)("div",{className:"font-group"},(0,e.createElement)("h3",null,t.woff.label),(0,e.createElement)("div",{className:"input-upload"},(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("input",{placeholder:"The Web Open Font Formate",value:t.woff.file.url}),t.woff.file.message?(0,e.createElement)("small",{style:{margin:"0",color:"#fc6b4a"}},t.woff.file.message):""),(0,e.createElement)("div",{className:"button-upload-remove"},(0,e.createElement)("button",{type:"button",className:"upload",onClick:e=>r(e,t.id,"woff")},"Upload"),(0,e.createElement)("button",{type:"button",className:"remove",onClick:e=>m(e,t.id,"woff")},"Remove")))),t.woff2&&(0,e.createElement)("div",{className:"font-group"},(0,e.createElement)("h3",null,t.woff2.label),(0,e.createElement)("div",{className:"input-upload"},(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("input",{placeholder:"The Web Open Font Formate 2. Used by modern browser",value:t.woff2.file.url}),t.woff2.file.message?(0,e.createElement)("small",{style:{margin:"0",color:"#fc6b4a"}},t.woff2.file.message):""),(0,e.createElement)("div",{className:"button-upload-remove"},(0,e.createElement)("button",{type:"button",className:"upload",onClick:e=>r(e,t.id,"woff2")},"Upload"),(0,e.createElement)("button",{type:"button",className:"remove",onClick:e=>m(e,t.id,"woff2")},"Remove")))),t.ttf&&(0,e.createElement)("div",{className:"font-group"},(0,e.createElement)("h3",null,t.ttf.label),(0,e.createElement)("div",{className:"input-upload"},(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("input",{placeholder:"The True Type Font Formate. Best used for safari, android, ios",value:t.ttf.file.url}),t.ttf.file.message?(0,e.createElement)("small",{style:{margin:"0",color:"#fc6b4a"}},t.ttf.file.message):""),(0,e.createElement)("div",{className:"button-upload-remove"},(0,e.createElement)("button",{type:"button",className:"upload",onClick:e=>r(e,t.id,"ttf")},"Upload"),(0,e.createElement)("button",{type:"button",className:"remove",onClick:e=>m(e,t.id,"ttf")},"Remove")))),t.otf&&(0,e.createElement)("div",{className:"font-group"},(0,e.createElement)("h3",null,t.otf.label),(0,e.createElement)("div",{className:"input-upload"},(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("input",{placeholder:"Open Type. Best use for web",value:t.otf.file.url}),t.otf.file.message?(0,e.createElement)("small",{style:{margin:"0",color:"#fc6b4a"}},t.otf.file.message):""),(0,e.createElement)("div",{className:"button-upload-remove"},(0,e.createElement)("button",{type:"button",className:"upload",onClick:e=>r(e,t.id,"otf")},"Upload"),(0,e.createElement)("button",{type:"button",className:"remove",onClick:e=>m(e,t.id,"otf")},"Remove")))),t.eot&&(0,e.createElement)("div",{className:"font-group"},(0,e.createElement)("h3",null,t.eot.label),(0,e.createElement)("div",{className:"input-upload"},(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("input",{placeholder:"Embedded Open Type. Best used for IE6-9",value:t.eot.file.url}),t.eot.file.message?(0,e.createElement)("small",{style:{margin:"0",color:"#fc6b4a"}},t.eot.file.message):""),(0,e.createElement)("div",{className:"button-upload-remove"},(0,e.createElement)("button",{type:"button",className:"upload",onClick:e=>r(e,t.id,"eot")},"Upload"),(0,e.createElement)("button",{type:"button",className:"remove",onClick:e=>m(e,t.id,"eot")},"Remove")))))),(0,e.createElement)("div",{className:"create-new-font"},(0,e.createElement)("button",{onClick:e=>((e,l)=>{e.preventDefault();const a={...l,id:t()};o(e=>[...e,a])})(e,l),style:{height:"100%",backgroundColor:"#fc6b4a",border:"none",color:"white",padding:"6px 12px",borderRadius:"8px"}},"Add New"))))},null),document.getElementById("wcf--custom-fonts-meta-box")),document.getElementById("wcf--custom-fonts-meta-box-side-setting")&&wp.element.render((0,e.createElement)(()=>{const[t,l]=(0,e.useState)("true"==WCF_ADDONS_ADMIN.custom_font_global);(0,e.useEffect)(()=>(document.getElementById("publish").classList.add("published_js"),document.getElementById("publish").addEventListener("click",a),()=>{document.getElementById("publish").removeEventListener("click",a)}),[t]);const a=async e=>{const l=document.getElementById("publish");l.classList.contains("published_js")&&e.preventDefault();const a=l.closest("form");await fetch(WCF_ADDONS_ADMIN.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({action:"wcf_save_custom_fonts_settings",custom_font_global:JSON.stringify(t),nonce:WCF_ADDONS_ADMIN.nonce,id:WCF_ADDONS_ADMIN.id})}).then(e=>e.json()).then(e=>{l.classList.remove("published_js"),a.submit()})};return(0,e.createElement)("div",{className:"wcf_switch-toggle"},(0,e.createElement)("p",null,"Enable For Global"),(0,e.createElement)("label",{className:"switch"},(0,e.createElement)("input",{type:"checkbox",checked:t,onChange:e=>l(e.target.checked)}),(0,e.createElement)("span",{className:"slider round"})))},null),document.getElementById("wcf--custom-fonts-meta-box-side-setting")),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("toplevel_page_wcf_addons_page");e&&(e.classList.remove("wp-not-current-submenu"),e.classList.add("wp-has-current-submenu"))})}();